import 'package:flutter/material.dart';

/// Minimal in-app localization helper.
/// - Production apps should lean on generated arb/intl workflows,
///   but this demo keeps things simple with a map-based setup.
class AppLocalizations {
  final Locale locale;
  AppLocalizations(this.locale);

  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations)!;
  }

  static const LocalizationsDelegate<AppLocalizations> delegate =
      _AppLocalizationsDelegate();

  static const _localizedValues = <String, Map<String, String>>{
    'en': {
      'settings': 'Settings',
      'appearance': 'Appearance',
      'dark_mode': 'Dark Mode',
      'dark_mode_desc': 'Switch between light and dark theme',
      'language': 'Language',
      'system_default': 'System Default',
      'english': 'English',
      'korean': 'Korean',
      'logout': 'Logout',
      'logout_q': 'Are you sure you want to logout?',
      'cancel': 'Cancel',
      'save': 'Save',
      'welcome_back_comma': 'Welcome back,',
      'quick_actions': 'Quick Actions',
      'post_walk_request': 'Post Walk Request',
      'post_walk_request_desc': 'Find a walker for your dog',
      'my_dogs': 'My Dogs',
      'my_dogs_desc': 'Manage your dog profiles',
      'my_walk_requests': 'My Walk Requests',
      'my_walk_requests_desc': 'View and manage your walk requests',
      'smart_matching': 'Smart Matching',
      'smart_matching_desc': 'Find compatible walkers using AI',
      'walk_route': 'Walk Route',
      'walk_route_desc': 'Find recommended walking routes',
      'available_walks': 'Available Walks',
      'available_walks_desc': 'Browse walk requests',
      'my_schedule': 'My Schedule',
      'my_schedule_desc': 'Manage your availability',
      'earnings': 'Earnings',
      'earnings_desc': 'View your earnings',
      'earnings_coming_soon': 'Earnings - Coming Soon!',
      'more': 'More',
      'messages': 'Messages',
      'messages_desc': 'Chat with other users',
      'profile': 'Profile',
      'profile_desc': 'Edit your profile',
      'app_preferences': 'App preferences',
      'err_loading_requests': 'Error loading requests',
      'walk_requests': 'Walk Requests',
      'my_accepted_walks': 'My Accepted Walks',
      'no_available_walks': 'No available walk requests nearby.',
      'no_accepted_walks': 'No accepted walks yet',
      'accept_walks_hint': 'Accept walk requests to see them here',
      'no_walk_requests_yet':
          'No walk requests posted yet. Tap + to post your first request!',
      'has_been_cancelled': 'has been cancelled.',
      'at': 'at',
      'status': 'Status',
      'user_not_authenticated': 'User not authenticated',
      'err_accept_request': 'Error accepting request',
      'err_cancel_request': 'Error cancelling request',
      'reschedule_not_implemented': 'Rescheduling not implemented yet.',
      'reschedule_success': 'Walk timing updated successfully.',
      'invalid_end_time': 'End time must be after start time',
      'reschedule_notification_body':
          'The walk has been rescheduled to %s1 - %s2.',
      'user_not_found': 'Could not find user information',
      'err_start_chat': 'Error starting chat',
      'walk_request_details': 'Walk Request Details',
      'time': 'Time',
      'notes': 'Notes',
      'accept': 'Accept',
      'reschedule': 'Reschedule',
      'chat_with_owner': 'Chat with Owner',
      'chat_with_walker': 'Chat with Walker',
      'err_loading_chats': 'Error loading chats',
      'chats': 'Chats',
      'no_chats_yet': 'No chats yet',
      'chats_hint':
          'Chats will appear when you start conversations\nabout walk requests',
      'walk_at': 'Walk at',
      'dog': 'Dog',
      'yesterday': 'Yesterday',
      'today': 'Today',
      'err_send_message': 'Failed to send message',
      'chat': 'Chat',
      'walk_request': 'Walk Request',
      'err_loading_messages': 'Error loading messages',
      'no_messages_yet': 'No messages yet',
      'start_the_conversation': 'Start the conversation!',
      'type_a_message': 'Type a message...',
      'no_reviews_yet': 'No reviews yet.',
      'err_loading_scheduled': 'Error loading scheduled walks',
      'owner_not_found': 'Could not find dog owner information',
      'my_scheduled_walks': 'My Scheduled Walks',
      'no_scheduled_walks': 'No scheduled walks yet',
      'mark_complete': 'Mark Complete',
      'mark_completed_coming_soon': 'Mark as completed - Coming Soon!',
      'edit_walk_request': 'Edit Walk Request',
      'location': 'Location',
      'location_required': 'Location required',
      'select_date_time': 'Select Date & Time',
      'notes_optional': 'Notes (optional)',
      'post_request': 'Post Request',
      'no_dogs_yet': 'No dogs added yet. Tap + to add your first dog!',
      'years_old': 'years old',
      'edit': 'Edit',
      'delete': 'Delete',
      'delete_dog': 'Delete Dog',
      'delete_dog_confirm': 'Are you sure you want to delete %s?',
      'connect_with_dog_lovers': 'Connect with fellow dog lovers',
      'i_am_a': 'I am a:',
      'dog_owner': 'Dog Owner',
      'owner_desc': 'I have a dog and need walking help',
      'dog_walker': 'Dog Walker',
      'walker_desc': 'I want to walk dogs',
      'full_name': 'Full Name',
      'phone_number': 'Phone Number',
      'confirm_password': 'Confirm Password',
      'create_account': 'Create Account',
      'already_have_account': 'Already have an account? ',
      'basic_info': 'Basic Info',
      'enter_name': 'Please enter your name',
      'enter_phone': 'Please enter your phone number',
      'walker_details': 'Walker Details',
      'experience_level': 'Experience Level',
      'preferred_dog_sizes': 'Preferred Dog Sizes',
      'max_distance_km': 'Max Distance (km)',
      'available_days': 'Available Days',
      'preferred_time_slots': 'Preferred Time Slots',
      'walker_preferences': 'Walker Preferences',
      'preferred_temperaments': 'Preferred Temperaments',
      'accepted_energy_levels': 'Accepted Energy Levels',
      'supported_special_needs': 'Supported Special Needs',
      'walker_preferences_required': 'Please fill in your walker preferences.',
      'select_dog_sizes': 'Select at least one dog size you can handle.',
      'select_temperaments':
          'Select at least one temperament you are comfortable with.',
      'select_energy_levels': 'Select at least one energy level you accept.',
      'owner_manage_dogs_desc': 'Manage your dogs and preferences.',
      'manage_dogs': 'Manage Dogs',
      'profile_updated': 'Profile updated',
      'failed_to_save': 'Failed to save',
      'beginner': 'Beginner',
      'intermediate': 'Intermediate',
      'expert': 'Expert',
      'small': 'Small',
      'medium': 'Medium',
      'large': 'Large',
      'temperament_calm': 'Calm',
      'temperament_friendly': 'Friendly',
      'temperament_energetic': 'Energetic',
      'temperament_shy': 'Shy',
      'temperament_aggressive': 'Aggressive',
      'temperament_reactive': 'Reactive',
      'energy_low': 'Low',
      'energy_medium': 'Medium',
      'energy_high': 'High',
      'energy_very_high': 'Very High',
      'special_need_none': 'None',
      'special_need_medication': 'Medication',
      'special_need_elderly': 'Elderly Care',
      'special_need_puppy': 'Puppy Care',
      'special_need_training': 'Training Support',
      'special_need_socializing': 'Socializing',
      'sun': 'Sun',
      'mon': 'Mon',
      'tue': 'Tue',
      'wed': 'Wed',
      'thu': 'Thu',
      'fri': 'Fri',
      'sat': 'Sat',
      'morning': 'Morning',
      'afternoon': 'Afternoon',
      'evening': 'Evening',
      'matching_results': 'Matching Results',
      'total_matches': 'Total Matches',
      'high_score': 'High Score (>0.8)',
      'nearby': 'Nearby (<5km)',
      'view_profile': 'View Profile',
      'request_walk': 'Request Walk',
      'retry': 'Retry',
      'no_matches_found': 'No matches found',
      'try_adjusting_filters': 'Try adjusting your filters or preferences',
      'filter_matches': 'Filter Matches',
      'minimum_score': 'Minimum Score',
      'dog_sizes': 'Dog Sizes',
      'experience_levels': 'Experience Levels',
      'apply': 'Apply',
      'viewing_profile_of': 'Viewing profile of',
      'requesting_walk_with': 'Requesting walk with',
      'sample_location': 'Sample Location',
      'sample_walk_request_note': 'Sample walk request for matching',
      'err_loading_data': 'Error loading data',
      'err_finding_matches': 'Error finding matches',
      'match_breakdown': 'Match Breakdown',
      'leave_a_review': 'Leave a Review',
      'rate_your_experience': 'Rate your experience:',
      'comment': 'Comment',
      'comment_required': 'Comment required',
      'submit_review': 'Submit Review',
      'enter_email_first': 'Please enter your email address first',
      'password_reset_sent': 'Password reset email sent! Check your inbox.',
      'welcome_back': 'Welcome back!',
      'email': 'Email',
      'password': 'Password',
      'forgot_password': 'Forgot Password?',
      'sign_in': 'Sign In',
      'or': 'OR',
      'dont_have_account': "Don't have an account? ",
      'sign_up': 'Sign Up',
      'failed_to_sign_in': 'Failed to sign in',
      'failed_to_create_account': 'Failed to create account',
      // Errors/Validation
      'err_required': 'is required',
      'err_min_len': 'must be at least',
      'err_max_len': 'must be no more than',
      'err_email_required': 'Email is required',
      'err_email_invalid': 'Please enter a valid email address',
      'err_password_required': 'Password is required',
      'err_password_min': 'Password must be at least 6 characters long',
      'err_password_combo':
          'Password must contain uppercase, lowercase, and numbers',
      'err_confirm_required': 'Please confirm your password',
      'err_password_mismatch': 'Passwords do not match',
      'err_fullname_required': 'Full name is required',
      'err_fullname_min': 'Full name must be at least 2 characters long',
      'err_fullname_chars': 'Full name can only contain letters and spaces',
      'err_phone_required': 'Phone number is required',
      'err_phone_invalid': 'Please enter a valid phone number',
      // Edit Dog
      'edit_dog': 'Edit Dog',
      'add_dog': 'Add Dog',
      'dog_name': 'Dog Name',
      'breed': 'Breed',
      'age': 'Age',
      'photo_url_optional': 'Photo URL (optional)',
      'name_required': 'Name required',
      'breed_required': 'Breed required',
      'enter_valid_age': 'Enter a valid age',
      'save_changes': 'Save Changes',
    },
    'ko': {
      'settings': '설정',
      'appearance': '화면',
      'dark_mode': '다크 모드',
      'dark_mode_desc': '라이트/다크 테마 전환',
      'language': '언어',
      'system_default': '시스템 기본값',
      'english': '영어',
      'korean': '한국어',
      'logout': '로그아웃',
      'logout_q': '정말 로그아웃하시겠어요?',
      'cancel': '취소',
      'save': '저장',
      'welcome_back_comma': '다시 오신 것을 환영합니다,',
      'quick_actions': '빠른 작업',
      'post_walk_request': '산책 요청 올리기',
      'post_walk_request_desc': '내 강아지를 산책시켜 줄 사람 찾기',
      'my_dogs': '내 강아지',
      'my_dogs_desc': '강아지 프로필 관리',
      'my_walk_requests': '내 산책 요청',
      'my_walk_requests_desc': '산책 요청 조회 및 관리',
      'smart_matching': '스마트 매칭',
      'smart_matching_desc': 'AI로 맞춤 워커 찾기',
      'walk_route': '산책 경로',
      'walk_route_desc': '추천 산책 경로 찾기',
      'available_walks': '가능한 산책',
      'available_walks_desc': '산책 요청 둘러보기',
      'my_schedule': '내 일정',
      'my_schedule_desc': '가능 시간 관리',
      'earnings': '수익',
      'earnings_desc': '내 수익 보기',
      'earnings_coming_soon': '수익 기능은 곧 제공됩니다!',
      'more': '더보기',
      'messages': '메시지',
      'messages_desc': '다른 사용자와 채팅하기',
      'profile': '프로필',
      'profile_desc': '내 프로필 수정',
      'app_preferences': '앱 환경설정',
      'err_loading_requests': '요청을 불러오는 중 오류',
      'walk_requests': '산책 요청',
      'my_accepted_walks': '내가 수락한 산책',
      'no_available_walks': '근처에 가능한 산책 요청이 없습니다.',
      'no_accepted_walks': '아직 수락한 산책이 없습니다',
      'accept_walks_hint': '산책 요청을 수락하면 여기에서 볼 수 있어요',
      'no_walk_requests_yet': '등록된 산책 요청이 없습니다. + 버튼으로 첫 요청을 올려보세요!',
      'has_been_cancelled': '취소되었습니다.',
      'at': '',
      'status': '상태',
      'user_not_authenticated': '인증되지 않은 사용자입니다',
      'err_accept_request': '요청 수락 중 오류',
      'err_cancel_request': '요청 취소 중 오류',
      'reschedule_not_implemented': '일정 변경 기능은 아직 준비 중입니다.',
      'reschedule_success': '산책 시간이 성공적으로 변경되었습니다.',
      'invalid_end_time': '종료 시간은 시작 시간 이후여야 합니다.',
      'reschedule_notification_body':
          '산책이 %s1 - %s2 일정으로 변경되었습니다.',
      'user_not_found': '사용자 정보를 찾을 수 없습니다',
      'err_start_chat': '채팅 시작 중 오류',
      'walk_request_details': '산책 요청 상세',
      'time': '시간',
      'notes': '메모',
      'accept': '수락',
      'reschedule': '재조정',
      'chat_with_owner': '오너와 채팅',
      'chat_with_walker': '워커와 채팅',
      'err_loading_chats': '채팅을 불러오는 중 오류',
      'chats': '채팅',
      'no_chats_yet': '아직 채팅이 없습니다',
      'chats_hint': '산책 요청과 관련한 대화를 시작하면\n여기에 표시됩니다',
      'walk_at': '산책 장소',
      'dog': '강아지',
      'yesterday': '어제',
      'today': '오늘',
      'err_send_message': '메시지 전송에 실패했습니다',
      'chat': '채팅',
      'walk_request': '산책 요청',
      'err_loading_messages': '메시지를 불러오는 중 오류',
      'no_messages_yet': '아직 메시지가 없습니다',
      'start_the_conversation': '대화를 시작해보세요!',
      'type_a_message': '메시지를 입력하세요...',
      'no_reviews_yet': '아직 리뷰가 없습니다.',
      'err_loading_scheduled': '예약된 산책을 불러오는 중 오류',
      'owner_not_found': '강아지 오너 정보를 찾을 수 없습니다',
      'my_scheduled_walks': '내 예정 산책',
      'no_scheduled_walks': '아직 예정된 산책이 없습니다',
      'mark_complete': '완료로 표시',
      'mark_completed_coming_soon': '완료 표시 기능은 곧 제공됩니다!',
      'edit_walk_request': '산책 요청 수정',
      'location': '위치',
      'location_required': '위치를 입력하세요',
      'select_date_time': '날짜와 시간을 선택하세요',
      'notes_optional': '메모 (선택)',
      'post_request': '요청 게시',
      'no_dogs_yet': '등록된 강아지가 없습니다. + 버튼으로 추가하세요!',
      'years_old': '살',
      'edit': '수정',
      'delete': '삭제',
      'delete_dog': '강아지 삭제',
      'delete_dog_confirm': '%s 을(를) 삭제하시겠어요?',
      'connect_with_dog_lovers': '함께할 반려인들과 연결해요',
      'i_am_a': '저는...',
      'dog_owner': '도그 오너',
      'owner_desc': '강아지가 있고 산책을 도와줄 사람이 필요해요',
      'dog_walker': '도그 워커',
      'walker_desc': '강아지를 산책시키고 싶어요',
      'full_name': '이름',
      'phone_number': '전화번호',
      'confirm_password': '비밀번호 확인',
      'create_account': '계정 만들기',
      'already_have_account': '이미 계정이 있으신가요? ',
      'basic_info': '기본 정보',
      'enter_name': '이름을 입력하세요',
      'enter_phone': '전화번호를 입력하세요',
      'walker_details': '워커 정보',
      'experience_level': '경험 수준',
      'preferred_dog_sizes': '선호하는 강아지 크기',
      'max_distance_km': '최대 거리 (km)',
      'available_days': '가능 요일',
      'preferred_time_slots': '선호 시간대',
      'owner_manage_dogs_desc': '강아지와 선호 설정을 관리하세요.',
      'manage_dogs': '강아지 관리',
      'profile_updated': '프로필이 업데이트되었습니다',
      'failed_to_save': '저장 실패',
      'beginner': '초급',
      'intermediate': '중급',
      'expert': '고급',
      'small': '소형',
      'medium': '중형',
      'large': '대형',
      'sun': '일',
      'mon': '월',
      'tue': '화',
      'wed': '수',
      'thu': '목',
      'fri': '금',
      'sat': '토',
      'morning': '오전',
      'afternoon': '오후',
      'evening': '저녁',
      'matching_results': '매칭 결과',
      'total_matches': '총 매칭 수',
      'high_score': '높은 점수 (>0.8)',
      'nearby': '가까운 거리 (<5km)',
      'view_profile': '프로필 보기',
      'request_walk': '산책 요청',
      'retry': '다시 시도',
      'no_matches_found': '일치하는 결과가 없습니다',
      'try_adjusting_filters': '필터 또는 선호 설정을 조정해 보세요',
      'filter_matches': '필터 설정',
      'minimum_score': '최소 점수',
      'dog_sizes': '강아지 크기',
      'experience_levels': '경험 수준',
      'apply': '적용',
      'viewing_profile_of': '다음 사용자의 프로필 보기',
      'requesting_walk_with': '다음 사용자에게 산책 요청 중',
      'sample_location': '샘플 위치',
      'sample_walk_request_note': '매칭을 위한 샘플 산책 요청',
      'err_loading_data': '데이터를 불러오는 중 오류',
      'err_finding_matches': '매칭을 찾는 중 오류',
      'match_breakdown': '점수 구성',
      'leave_a_review': '리뷰 남기기',
      'rate_your_experience': '경험을 평가해 주세요:',
      'comment': '코멘트',
      'comment_required': '코멘트를 입력하세요',
      'submit_review': '리뷰 제출',
      'enter_email_first': '먼저 이메일을 입력해주세요',
      'password_reset_sent': '비밀번호 재설정 이메일을 보냈습니다. 메일함을 확인하세요.',
      'welcome_back': '다시 오신 것을 환영해요!',
      'email': '이메일',
      'password': '비밀번호',
      'forgot_password': '비밀번호를 잊으셨나요?',
      'sign_in': '로그인',
      'or': '또는',
      'dont_have_account': '계정이 없으신가요? ',
      'sign_up': '회원가입',
      'failed_to_sign_in': '로그인에 실패했습니다',
      'failed_to_create_account': '계정 생성에 실패했습니다',
      // Errors/Validation
      'err_required': '은(는) 필수입니다',
      'err_min_len': '은(는) 최소',
      'err_max_len': '은(는) 최대',
      'err_email_required': '이메일을 입력하세요',
      'err_email_invalid': '유효한 이메일 주소를 입력하세요',
      'err_password_required': '비밀번호를 입력하세요',
      'err_password_min': '비밀번호는 최소 6자 이상이어야 합니다',
      'err_password_combo': '대문자/소문자/숫자를 포함해야 합니다',
      'err_confirm_required': '비밀번호를 한 번 더 입력하세요',
      'err_password_mismatch': '비밀번호가 일치하지 않습니다',
      'err_fullname_required': '이름을 입력하세요',
      'err_fullname_min': '이름은 최소 2자 이상이어야 합니다',
      'err_fullname_chars': '이름은 영문과 공백만 사용할 수 있습니다',
      'err_phone_required': '전화번호를 입력하세요',
      'err_phone_invalid': '유효한 전화번호를 입력하세요',
      // Edit Dog
      'edit_dog': '강아지 수정',
      'add_dog': '강아지 추가',
      'dog_name': '강아지 이름',
      'breed': '견종',
      'age': '나이',
      'photo_url_optional': '사진 URL (선택)',
      'name_required': '이름을 입력하세요',
      'breed_required': '견종을 입력하세요',
      'enter_valid_age': '올바른 나이를 입력하세요',
      'save_changes': '변경사항 저장',
    },
  };

  String t(String key) {
    final lang = locale.languageCode;
    return _localizedValues[lang]?[key] ?? _localizedValues['en']![key] ?? key;
  }
}

class _AppLocalizationsDelegate
    extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) => ['en', 'ko'].contains(locale.languageCode);

  @override
  Future<AppLocalizations> load(Locale locale) async {
    return AppLocalizations(locale);
  }

  @override
  bool shouldReload(covariant LocalizationsDelegate<AppLocalizations> old) =>
      false;
}
