import 'package:flutter/material.dart';

/// Minimal in-app localization helper.
/// - Production apps should lean on generated arb/intl workflows,
///   but this demo keeps things simple with a map-based setup.
class AppLocalizations {
  final Locale locale;
  AppLocalizations(this.locale);

  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations)!;
  }

  static const LocalizationsDelegate<AppLocalizations> delegate =
      _AppLocalizationsDelegate();

  static const _localizedValues = <String, Map<String, String>>{
    'en': {
      'settings': 'Settings',
      'appearance': 'Appearance',
      'dark_mode': 'Dark Mode',
      'dark_mode_desc': 'Switch between light and dark theme',
      'language': 'Language',
      'system_default': 'System Default',
      'english': 'English',
      'korean': 'Korean',
      'logout': 'Logout',
      'logout_q': 'Are you sure you want to logout?',
      'cancel': 'Cancel',
      'save': 'Save',
      'welcome_back_comma': 'Welcome back,',
      'quick_actions': 'Quick Actions',
      'post_walk_request': 'Post Walk Request',
      'post_walk_request_desc': 'Find a walker for your dog',
      'my_dogs': 'My Dogs',
      'my_dogs_desc': 'Manage your dog profiles',
      'my_walk_requests': 'My Walk Requests',
      'my_walk_requests_desc': 'View and manage your walk requests',
      'available_walks': 'Available Walks',
      'available_walks_desc': 'Browse walk requests',
      'my_schedule': 'My Schedule',
      'my_schedule_desc': 'Manage your availability',
      'earnings': 'Earnings',
      'earnings_desc': 'View your earnings',
      'earnings_coming_soon': 'Earnings - Coming Soon!',
      'more': 'More',
      'messages': 'Messages',
      'messages_desc': 'Chat with other users',
      'profile': 'Profile',
      'profile_desc': 'Edit your profile',
      'app_preferences': 'App preferences',
      'err_loading_requests': 'Error loading requests',
      'walk_requests': 'Walk Requests',
      'my_accepted_walks': 'My Accepted Walks',
      'no_available_walks': 'No available walk requests nearby.',
      'no_accepted_walks': 'No accepted walks yet',
      'accept_walks_hint': 'Accept walk requests to see them here',
      'no_walk_requests_yet':
          'No walk requests posted yet. Tap + to post your first request!',
      'has_been_cancelled': 'has been cancelled.',
      'at': 'at',
      'status': 'Status',
      'user_not_authenticated': 'User not authenticated',
      'err_accept_request': 'Error accepting request',
      'err_cancel_request': 'Error cancelling request',
      'reschedule_not_implemented': 'Rescheduling not implemented yet.',
      'reschedule_success': 'Walk timing updated successfully.',
      'invalid_end_time': 'End time must be after start time',
      'reschedule_notification_body':
          'The walk has been rescheduled to %s1 - %s2.',
      'user_not_found': 'Could not find user information',
      'err_start_chat': 'Error starting chat',
      'walk_request_details': 'Walk Request Details',
      'time': 'Time',
      'notes': 'Notes',
      'accept': 'Accept',
      'reschedule': 'Reschedule',
      'chat_with_owner': 'Chat with Owner',
      'chat_with_walker': 'Chat with Walker',
      'err_loading_chats': 'Error loading chats',
      'chats': 'Chats',
      'no_chats_yet': 'No chats yet',
      'chats_hint':
          'Chats will appear when you start conversations\nabout walk requests',
      'walk_at': 'Walk at',
      'dog': 'Dog',
      'yesterday': 'Yesterday',
      'today': 'Today',
      'err_send_message': 'Failed to send message',
      'chat': 'Chat',
      'walk_request': 'Walk Request',
      'err_loading_messages': 'Error loading messages',
      'no_messages_yet': 'No messages yet',
      'start_the_conversation': 'Start the conversation!',
      'type_a_message': 'Type a message...',
      'no_reviews_yet': 'No reviews yet.',
      'err_loading_scheduled': 'Error loading scheduled walks',
      'owner_not_found': 'Could not find dog owner information',
      'my_scheduled_walks': 'My Scheduled Walks',
      'no_scheduled_walks': 'No scheduled walks yet',
      'mark_complete': 'Mark Complete',
      'mark_completed_coming_soon': 'Mark as completed - Coming Soon!',
      'edit_walk_request': 'Edit Walk Request',
      'location': 'Location',
      'location_required': 'Location required',
      'select_date_time': 'Select Date & Time',
      'notes_optional': 'Notes (optional)',
      'post_request': 'Post Request',
      'no_dogs_yet': 'No dogs added yet. Tap + to add your first dog!',
      'years_old': 'years old',
      'edit': 'Edit',
      'delete': 'Delete',
      'delete_dog': 'Delete Dog',
      'delete_dog_confirm': 'Are you sure you want to delete %s?',
      'connect_with_dog_lovers': 'Connect with fellow dog lovers',
      'i_am_a': 'I am a:',
      'dog_owner': 'Dog Owner',
      'owner_desc': 'I have a dog and need walking help',
      'dog_walker': 'Dog Walker',
      'walker_desc': 'I want to walk dogs',
      'full_name': 'Full Name',
      'phone_number': 'Phone Number',
      'confirm_password': 'Confirm Password',
      'create_account': 'Create Account',
      'already_have_account': 'Already have an account? ',
      'basic_info': 'Basic Info',
      'enter_name': 'Please enter your name',
      'enter_phone': 'Please enter your phone number',
      'walker_details': 'Walker Details',
      'experience_level': 'Experience Level',
      'preferred_dog_sizes': 'Preferred Dog Sizes',
      'max_distance_km': 'Max Distance (km)',
      'available_days': 'Available Days',
      'preferred_time_slots': 'Preferred Time Slots',
      'walker_preferences': 'Walker Preferences',
      'preferred_temperaments': 'Preferred Temperaments',
      'accepted_energy_levels': 'Accepted Energy Levels',
      'supported_special_needs': 'Supported Special Needs',
      'walker_preferences_required': 'Please fill in your walker preferences.',
      'select_dog_sizes': 'Select at least one dog size you can handle.',
      'select_temperaments':
          'Select at least one temperament you are comfortable with.',
      'select_energy_levels': 'Select at least one energy level you accept.',
      'owner_manage_dogs_desc': 'Manage your dogs and preferences.',
      'manage_dogs': 'Manage Dogs',
      'profile_updated': 'Profile updated',
      'failed_to_save': 'Failed to save',
      'beginner': 'Beginner',
      'intermediate': 'Intermediate',
      'expert': 'Expert',
      'small': 'Small',
      'medium': 'Medium',
      'large': 'Large',
      'temperament_calm': 'Calm',
      'temperament_friendly': 'Friendly',
      'temperament_energetic': 'Energetic',
      'temperament_shy': 'Shy',
      'temperament_aggressive': 'Aggressive',
      'temperament_reactive': 'Reactive',
      'energy_low': 'Low',
      'energy_medium': 'Medium',
      'energy_high': 'High',
      'energy_very_high': 'Very High',
      'special_need_none': 'None',
      'special_need_medication': 'Medication',
      'special_need_elderly': 'Elderly Care',
      'special_need_puppy': 'Puppy Care',
      'special_need_training': 'Training Support',
      'special_need_socializing': 'Socializing',
      'sun': 'Sun',
      'mon': 'Mon',
      'tue': 'Tue',
      'wed': 'Wed',
      'thu': 'Thu',
      'fri': 'Fri',
      'sat': 'Sat',
      'morning': 'Morning',
      'afternoon': 'Afternoon',
      'evening': 'Evening',
      'matching_results': 'Matching Results',
      'total_matches': 'Total Matches',
      'high_score': 'High Score (>0.8)',
      'nearby': 'Nearby (<5km)',
      'view_profile': 'View Profile',
      'request_walk': 'Request Walk',
      'retry': 'Retry',
      'no_matches_found': 'No matches found',
      'try_adjusting_filters': 'Try adjusting your filters or preferences',
      'filter_matches': 'Filter Matches',
      'minimum_score': 'Minimum Score',
      'dog_sizes': 'Dog Sizes',
      'experience_levels': 'Experience Levels',
      'apply': 'Apply',
      'viewing_profile_of': 'Viewing profile of',
      'requesting_walk_with': 'Requesting walk with',
      'sample_location': 'Sample Location',
      'sample_walk_request_note': 'Sample walk request for matching',
      'err_loading_data': 'Error loading data',
      'err_finding_matches': 'Error finding matches',
      'match_breakdown': 'Match Breakdown',
      'leave_a_review': 'Leave a Review',
      'rate_your_experience': 'Rate your experience:',
      'comment': 'Comment',
      'comment_required': 'Comment required',
      'submit_review': 'Submit Review',
      'enter_email_first': 'Please enter your email address first',
      'password_reset_sent': 'Password reset email sent! Check your inbox.',
      'welcome_back': 'Welcome back!',
      'email': 'Email',
      'password': 'Password',
      'forgot_password': 'Forgot Password?',
      'sign_in': 'Sign In',
      'or': 'OR',
      'dont_have_account': "Don't have an account? ",
      'sign_up': 'Sign Up',
      'failed_to_sign_in': 'Failed to sign in',
      'failed_to_create_account': 'Failed to create account',
      // Errors/Validation
      'err_required': 'is required',
      'err_min_len': 'must be at least',
      'err_max_len': 'must be no more than',
      'err_email_required': 'Email is required',
      'err_email_invalid': 'Please enter a valid email address',
      'err_password_required': 'Password is required',
      'err_password_min': 'Password must be at least 6 characters long',
      'err_password_combo':
          'Password must contain uppercase, lowercase, and numbers',
      'err_confirm_required': 'Please confirm your password',
      'err_password_mismatch': 'Passwords do not match',
      'err_fullname_required': 'Full name is required',
      'err_fullname_min': 'Full name must be at least 2 characters long',
      'err_fullname_chars': 'Full name can only contain letters and spaces',
      'err_phone_required': 'Phone number is required',
      'err_phone_invalid': 'Please enter a valid phone number',
      // Edit Dog
      'edit_dog': 'Edit Dog',
      'add_dog': 'Add Dog',
      'dog_name': 'Dog Name',
      'breed': 'Breed',
      'age': 'Age',
      'photo_url_optional': 'Photo URL (optional)',
      'name_required': 'Name required',
      'breed_required': 'Breed required',
      'enter_valid_age': 'Enter a valid age',
      'save_changes': 'Save Changes',
    },
  };

  String t(String key) {
    // Always return English translations
    return _localizedValues['en']?[key] ?? key;
  }
}

class _AppLocalizationsDelegate
    extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) => true; // Support all locales, but only use English

  @override
  Future<AppLocalizations> load(Locale locale) async {
    return AppLocalizations(locale);
  }

  @override
  bool shouldReload(covariant LocalizationsDelegate<AppLocalizations> old) =>
      false;
}
